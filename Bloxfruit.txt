local Flux = loadstring(game:HttpGet "https://raw.githubusercontent.com/werwer147/werwer147/main/UI.txt")()
local win = Flux:Window("TriKru", "Hub", Color3.fromRGB(50, 74, 189))

for i,v in pairs(getconnections(game.Players.LocalPlayer.Idled)) do
	v:Disable()
end
OldWorld = false
newworld = false
Magnet = false
local MyLevel = game.Players.localPlayer.Data.Level.Value
local placeId = game.PlaceId
local tab1 = win:Tab("Auto Farm", "http://www.roblox.com/asset/?id=6023426915")
tab1:Toggle("AutoFarm Level", false, function(t)
    AutoFarm = t
    if t == false then
      Magnet = false
    end
end) 
if placeId == 2753915549 then
   OldWorld = true
elseif placeId == 4442272183 then
   newworld = true
end
loadstring(game:HttpGet "https://raw.githubusercontent.com/werwer147/werwer147/main/Quest.txt")()
CheckQuest()

function autofarm()
    local LocalPlayer = game:GetService("Players").LocalPlayer
    if LocalPlayer.PlayerGui.Main.Quest.Visible == false then
          Magnet = false
          CheckQuest()
          print()
          LocalPlayer.Character.HumanoidRootPart.CFrame = CFrameQuest
          wait(1.1)
          game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StartQuest", NaemQuest, LevelQuest)
          game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame = CFrameMon
    elseif game:GetService("Players").LocalPlayer.PlayerGui.Main.Quest.Visible == true then
      wait()
          game:GetService("RunService").Heartbeat:Connect(function()
            if AutoFarm   then 
                game.Players.LocalPlayer.Character.Humanoid:ChangeState(11)
            end
        end)
        pcall(function()
        for i, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
            CheckQuest()  
            if v.Name == mob and v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") then
               repeat wait(0.2)
                game:GetService("VirtualUser"):Button1Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
                PosMon = v.HumanoidRootPart.CFrame
                game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 15, 0)
                 Magnet = true 
               until not v.Parent or v.Humanoid.Health <= 0 or AutoFarm == false or LocalPlayer.PlayerGui.Main.Quest.Visible == false
               wait()
               game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame = CFrameMon
              -- Magnet = false
            end

        end
      end)
    end
   
end

spawn(function()
    local LocalPlayer = game:GetService("Players").LocalPlayer
    while wait(.1) do
          if AutoFarm and Magnet then
             CheckQuest()
             pcall(function()
                      repeat wait(.1)
                         for i, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                           wait()
                            if v.Name == mob then
                              v.HumanoidRootPart.CanCollide = false 
                              v.HumanoidRootPart.Size = Vector3.new(60, 60, 60)   
                              v.HumanoidRootPart.CFrame = PosMon
                            end
   
                         end
                      until LocalPlayer.PlayerGui.Main.Quest.Visible == false or AutoFarm == false or Magnet == false
                end
             )
          end 
    end
 end)


spawn(function()
    while wait(1) do
       if AutoFarm then
          autofarm()
       end 
    end
 end)
